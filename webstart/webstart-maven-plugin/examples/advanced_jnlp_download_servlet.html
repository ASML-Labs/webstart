<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2015-06-19
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Kevin Stembridge" />
    <meta name="Date-Creation-yyyymmdd" content="20080923" />
    <meta name="Date-Revision-yyyymmdd" content="20150619" />
    <meta http-equiv="Content-Language" content="en" />
    <title>MWEBSTART :: Webstart Maven Plugin &#x2013; Advanced JnlpDownloadServlet Example</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                    <a href="http://mojo.codehaus.org/" id="bannerLeft">
                                                                                        <img src="http://mojo.codehaus.org/images/mojo_logo.png"  alt="Mojo"/>
                </a>
                      </div>
        <div class="pull-right">                  <a href="http://codehaus.org/" id="bannerRight">
                                                                                        <img src="http://mojo.codehaus.org/images/codehaus-small.png"  alt="Codehaus"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="http://codehaus.org/" class="externalLink" title="Codehaus">
        Codehaus</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="http://mojo.codehaus.org/" class="externalLink" title="Mojo">
        Mojo</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="../../" title="MWEBSTART :: Project">
        MWEBSTART :: Project</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="../" title="MWEBSTART :: Webstart Maven Plugin">
        MWEBSTART :: Webstart Maven Plugin</a>
        </li>
      <li class="divider ">/</li>
        <li class="">Advanced JnlpDownloadServlet Example</li>
        
                
                    
                  <li id="publishDate" class="pull-right">Last Published: 2015-06-19</li> <li class="divider pull-right">|</li>
              <li id="projectVersion" class="pull-right">Version: 1.0-beta-6</li>
            
                                            <li class="divider pull-right">|</li>
                        
    <li class="pull-right">              <a href="http://maven.apache.org/" class="externalLink" title="Maven">
        Maven</a>
  </li>

                        </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Parent Project</li>
                                
      <li>
    
                          <a href="../../index.html" title="MWEBSTART :: Project">
          <i class="none"></i>
        MWEBSTART :: Project</a>
            </li>
                              <li class="nav-header">Overview</li>
                                
      <li>
    
                          <a href="../index.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                  
      <li>
    
                          <a href="../plugin-info.html" title="Goals">
          <i class="none"></i>
        Goals</a>
            </li>
                  
      <li>
    
                          <a href="../usage.html" title="Usage">
          <i class="none"></i>
        Usage</a>
            </li>
                  
      <li>
    
                          <a href="../faq.html" title="FAQ">
          <i class="none"></i>
        FAQ</a>
            </li>
                  
      <li>
    
                          <a href="../cookbook.html" title="Cookbook recipe">
          <i class="none"></i>
        Cookbook recipe</a>
            </li>
                  
      <li>
    
                          <a href="../jnlp-mojos-overview.html" title="JNLP goals overview">
          <i class="none"></i>
        JNLP goals overview</a>
            </li>
                  
      <li>
    
                          <a href="../upgrade.html" title="Plugin Upgrades">
          <i class="none"></i>
        Plugin Upgrades</a>
            </li>
                  
      <li>
    
                          <a href="../contributors.html" title="Notes to users and contributors">
          <i class="none"></i>
        Notes to users and contributors</a>
            </li>
                  
      <li>
    
                          <a href="../jnlp101.html" title="JNLP 101">
          <i class="none"></i>
        JNLP 101</a>
            </li>
                              <li class="nav-header">Examples</li>
                                                                                              
      <li>
    
                          <a href="../index.html" title="Getting Started">
          <i class="icon-chevron-down"></i>
        Getting Started</a>
                    <ul class="nav nav-list">
                      
      <li>
    
                          <a href="../examples/inbuilt_templates.html" title="Default inbuilt templates">
          <i class="none"></i>
        Default inbuilt templates</a>
            </li>
                      
      <li>
    
                          <a href="../examples/keystore_gen.html" title="Keystore generation and usage">
          <i class="none"></i>
        Keystore generation and usage</a>
            </li>
              </ul>
        </li>
                  
      <li>
    
                          <a href="../examples/single_webstart_app.html" title="Static web site">
          <i class="none"></i>
        Static web site</a>
            </li>
                                                                                
      <li>
    
                          <a href="../index.html" title="WAR bundling">
          <i class="icon-chevron-down"></i>
        WAR bundling</a>
                    <ul class="nav nav-list">
                      
      <li>
    
                          <a href="../examples/war_bundle_1.html" title="Bundle JNLP apps within a new WAR">
          <i class="none"></i>
        Bundle JNLP apps within a new WAR</a>
            </li>
                      
      <li>
    
                          <a href="../examples/war_bundle_2.html" title="Add JNLPs apps to an existing WAR">
          <i class="none"></i>
        Add JNLPs apps to an existing WAR</a>
            </li>
              </ul>
        </li>
                                                                                          
      <li>
    
                          <a href="../index.html" title="JNLP Download Servlet">
          <i class="icon-chevron-down"></i>
        JNLP Download Servlet</a>
                    <ul class="nav nav-list">
                      
      <li>
    
                          <a href="../examples/simple_jnlp_download_servlet.html" title="Simple">
          <i class="none"></i>
        Simple</a>
            </li>
                      
      <li class="active">
    
            <a href="#"><i class="none"></i>Advanced</a>
          </li>
              </ul>
        </li>
                  
      <li>
    
                          <a href="../examples/more_examples.html" title="More examples">
          <i class="none"></i>
        More examples</a>
            </li>
                              <li class="nav-header">Links</li>
                                
      <li>
    
                          <a href="http://java.sun.com/products/javawebstart/" class="externalLink" title="Java Webstart">
          <i class="none"></i>
        Java Webstart</a>
            </li>
                                                                                                  
      <li>
    
                          <a href="../index.html" title="Security">
          <i class="icon-chevron-down"></i>
        Security</a>
                    <ul class="nav nav-list">
                      
      <li>
    
                          <a href="http://java.sun.com/j2se/1.5.0/docs/tooldocs/#security" class="externalLink" title="Java Security Tools">
          <i class="none"></i>
        Java Security Tools</a>
            </li>
                      
      <li>
    
                          <a href="http://mojo.codehaus.org/keytool-maven-plugin/" class="externalLink" title="Keytool Maven Plugin">
          <i class="none"></i>
        Keytool Maven Plugin</a>
            </li>
                      
      <li>
    
                          <a href="http://maven.apache.org/plugins/maven-jar-plugin/" class="externalLink" title="JAR signing with Maven">
          <i class="none"></i>
        JAR signing with Maven</a>
            </li>
              </ul>
        </li>
                  
      <li>
    
                          <a href="http://java.sun.com/j2se/1.5.0/docs/guide/javaws/developersguide/downloadservletguide.html" class="externalLink" title="Sun's Download Servlet Guide">
          <i class="none"></i>
        Sun's Download Servlet Guide</a>
            </li>
                  
      <li>
    
                          <a href="http://velocity.apache.org/engine/releases/velocity-1.5/user-guide.html" class="externalLink" title="Velocity user guide">
          <i class="none"></i>
        Velocity user guide</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                          
      <li>
    
                          <a href="../project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                                                                                                                                                                                                          
      <li>
    
                          <a href="../project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                            <form id="search-form" action="http://www.google.com/search" method="get" >
    
  <input value="mojo.codehaus.org" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=search-form"></script>
          
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section">
<h2><a name="Advanced_JnlpDownloadServlet_Example"></a>Advanced JnlpDownloadServlet Example</h2>
<p>This example shows how to configure the <tt>jnlp-download-servlet</tt> goal for its more advanced features. </p>
<ul>
<li>Multiple JNLP applications.</li>
<li>Sharing JAR resources between applications.</li>
<li>Deploying multiple versions of some artifacts.</li></ul>
<div class="section">
<h3><a name="The_web.xml"></a>The web.xml</h3>
<p>The <tt>web.xml</tt> file of your web application must include the appropriate servlet mapping for the JnlpDownloadServlet as described in the <a class="externalLink" href="http://java.sun.com/javase/6/docs/technotes/guides/javaws/developersguide/downloadservletguide.html">JnlpDownloadServlet Guide</a>. For convenience, a basic but complete example is provided below.</p>
<div>
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE web-app PUBLIC 
 &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;
 &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;&gt;
&lt;web-app&gt;

  &lt;servlet&gt;
    &lt;servlet-name&gt;JnlpDownloadServlet&lt;/servlet-name&gt;
    &lt;servlet-class&gt;jnlp.sample.servlet.JnlpDownloadServlet&lt;/servlet-class&gt;
  &lt;/servlet&gt;

  &lt;servlet-mapping&gt;
    &lt;servlet-name&gt;JnlpDownloadServlet&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/applications/*&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;

&lt;/web-app&gt;</pre></div></div>
<div class="section">
<h3><a name="The_Plugin_Configuration"></a>The Plugin Configuration</h3>
<div>
<pre>&lt;project&gt;
  ...
  &lt;build&gt;
    ...  
    &lt;plugins&gt;
    
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
        &lt;artifactId&gt;webstart-maven-plugin&lt;/artifactId&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;phase&gt;process-resources&lt;/phase&gt;
            &lt;goals&gt;
              &lt;goal&gt;jnlp-download-servlet&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;

        &lt;configuration&gt;
        
          &lt;!-- 
          This is the directory containing the Velocity templates from which the JNLP files 
          will be generated. The default location is 'src/main/jnlp'.
          --&gt;
          &lt;templateDirectory&gt;src/main/jnlp/my-templates&lt;/templateDirectory&gt;
          
          &lt;!--
          This is the name of the directory within which the processed JNLP artifacts 
          will be placed. This directory will reside in the root of the WAR file 
          produced by the enclosing project. The name provided here must match the 
          servlet-mapping url-pattern provided in the web.xml file. The default value is 'webstart'. 
          --&gt;
          &lt;outputDirectoryName&gt;applications&lt;/outputDirectoryName&gt;

          &lt;jnlpFiles&gt;
          
            &lt;jnlpFile&gt;
              &lt;templateFilename&gt;app1Template.vm&lt;/templateFilename&gt;
              &lt;outputFilename&gt;application1.jnlp&lt;/outputFilename&gt;
              &lt;jarResources&gt;
                &lt;jarResource&gt;
                  &lt;groupId&gt;[some groupId]&lt;/groupId&gt;
                  &lt;artifactId&gt;[some artifactId]&lt;/artifactId&gt;
                  &lt;version&gt;[some version]&lt;/version&gt;
                  &lt;classifier&gt;[some optional classifier]&lt;/classifier&gt;
                  &lt;!-- A mainClass element must be specified on one, and only one, jarResource per jnlpFile --&gt;
                  &lt;mainClass&gt;[app1 main class]&lt;/mainClass&gt;
                &lt;/jarResource&gt;
                &lt;jarResource&gt;
                  &lt;groupId&gt;[some groupId]&lt;/groupId&gt;
                  &lt;artifactId&gt;[some artifactId]&lt;/artifactId&gt;
                  &lt;version&gt;[some version]&lt;/version&gt;
                &lt;/jarResource&gt;
              &lt;/jarResources&gt;
            &lt;/jnlpFile&gt;
          
            &lt;jnlpFile&gt;
              &lt;templateFilename&gt;app2Template.vm&lt;/templateFilename&gt;
              &lt;outputFilename&gt;application2.jnlp&lt;/outputFilename&gt;
              &lt;jarResources&gt;
                &lt;jarResource&gt;
                  &lt;groupId&gt;[some groupId]&lt;/groupId&gt;
                  &lt;artifactId&gt;[some artifactId]&lt;/artifactId&gt;
                  &lt;version&gt;[some version]&lt;/version&gt;
                  &lt;mainClass&gt;[app2 main class]&lt;/mainClass&gt;
                &lt;/jarResource&gt;
              &lt;/jarResources&gt;
            &lt;/jnlpFile&gt;
          
          &lt;/jnlpFiles&gt;
          
          &lt;!-- 
          Jar resources that are to be included in all generated JNLP files are specified here. 
          If specified here, they cannot also be included in a jnlpFile configuration element.   
          --&gt;
          &lt;commonJarResources&gt;
            &lt;jarResource&gt;
              &lt;groupId&gt;commons-lang&lt;/groupId&gt;
              &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;
              &lt;version&gt;2.3&lt;/version&gt;
            &lt;/jarResource&gt;
            &lt;jarResource&gt;
              &lt;groupId&gt;commons-lang&lt;/groupId&gt;
              &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;
              &lt;version&gt;2.2&lt;/version&gt;
              &lt;!-- 
              When deploying multiple versions of an artifact, only one of them can be 
              included in the generated JNLP file.
              --&gt;
              &lt;includeInJnlp&gt;false&lt;/includeInJnlp&gt;
            &lt;/jarResource&gt;
          &lt;/commonJarResources&gt;
          
          &lt;!--
          Set to true to exclude all transitive dependencies from the JNLP bundle. Default is false.
          --&gt;
          &lt;excludeTransitive&gt;false&lt;/excludeTransitive&gt;

        &lt;/configuration&gt;

      &lt;/plugin&gt;
    &lt;/plugins&gt;

  &lt;/build&gt;
  ...
&lt;/project&gt;
</pre></div></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                    2005-2015
                        <a href="http://codehaus.org">Codehaus</a>.
            All Rights Reserved.      
                    
      </div>

        
        
          
    
    
                
    <div id="ohloh" class="pull-right">
      <script type="text/javascript" src="http://www.ohloh.net/p/5211/widgets/project_thin_badge.js"></script>
    </div>
        </div>
    </footer>
  </body>
</html>